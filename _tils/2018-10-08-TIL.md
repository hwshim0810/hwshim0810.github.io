---
layout: post
title: 2018-10-08 TIL
description: 'TIL'
tags: [TIL, 강의노트]
---

## 방통대 강의노트 (선형대수, UNIX 시스템)

### 선형대수 (행렬연산)

#### 행렬의 개요

- `m x n 행렬 A에 대하여`

  - `m = n` 일때, A 는 `정방행렬`라고 한다.
    - A 가 정방행렬일때, 원소 `aii (1 <= i <= n)`을 A 의 `주대각원소`라고 한다.

- `n차 정방행렬 A = (aij)`에 대하여

  - `aij = 0 단(i != j)` 이면 `대각행렬` :: 주대각원소를 제외한 곳은 0
    - `aii = c (1 <= i <= n)` 이면 `스칼라 행렬` :: 주대각원소가 같음
    - `aii = 1 (1 <= i <= n)` 이면 `단위행렬` :: 주대각원소가 모두 1 (행렬곱의 항등원)
  - `aij = 0 (단, i < j)` 이면 `하삼각행렬` :: 주대각 원소 위쪽이 모두 0 (나머지는 상관없음)
  - `aij = 0 (단, i > j)` 이면 `상삼각행렬`

- 행렬의 상등
  - 같은 행와 열의 크기
  - 대응되는 모든 원소값이 같음

#### 행렬의 합

- 교환법칙, 결합법칙 성립
- 항등원은 영행렬
- 항등원을 만들수 있는 음행렬이 존재함

#### 행렬의 곱

- `A = (aij)` 가 `m x p`행렬, `B = (bij)`가 `p x n`행렬이면
  - A 와 B 의 곱 AB 는 m x n 행렬 `C = (cij)`
  - `n != m` 이면 BA 는 정의되지 않음
  - `n = m, p != n`인 경우 BA, AB 는 크기가 다를 수 있다. (교환법칙 X)
  - 영행렬이 아닌 두 행렬을 곱해도 영행렬이 나올 수 있다.

---

- 성질
  - 분배법칙, 결합법칙 성립
  - 스칼라 곱 결합법칙 성립
  - 단위행렬이 항등원
- 행렬의 거듭제곱
  - 대상 행렬이 `n차 정방행렬` 인 경우만 가능

#### 행렬의 전치

- `aij = aji`인 행렬을 `전치행렬`
- 행을 열로 전환
- 성질
  - `(At)t = A`
  - `(A+B)t = At + Bt`
  - `(AB)t = BtAt`
  - `(cA)t = cAt`

---

#### 대칭행렬

- `At = A`인 행렬
  - A 는 `정방행렬`이어야 하고
  - `aij = aji`여야 함
- 행렬 A, B 가 대칭행렬이면
  - `cA + dB (단, c,d는 임의의 수)`도 대칭행렬
  - AB 도 대칭행렬 :: `(AB)t = AB` 성립

---

### UNIX 시스템 (리눅스 시작과 종료)

#### 부팅과정

- ROM BIOS 의 펌웨어 실행
  - 하드웨어 검사 후 부트로더 적재
- MBR(디스크 첫 섹터)에 있는 부트로더 실행
  - 파티션 테이블조사하여 부팅가능한 파티션 탐색
  - 리눅스 부트로더 `GRUB` 을 찾아 적재
- 커널 이미지와 `initramfs`를 로드
  - initramfs
    - 부팅과정에서 필요한 임시파일 시스템
    - RAM 에 존재
- 커널 실행
  - 하드웨어 점검 및 초기화
  - 디바이스 탐색, 드라이버 로드
  - 루트('/') 파일시스템을 마운트 및 검새
  - `/sbin/init`을 실행 시키고 제어를 넘김
    - `init`프로세스는 시스템 운영을 위한 나머지 초기화 과정
    - init 은 최초에 실행될 사용자 프로세스 :: pid 가 1

#### 초기화 데몬

- 전통적 `init` 데몬
  - System V init 데몬이라고도 함
  - runlevel 에 기초하여 순차적으로 서비스 실행
  - 시간이 오래걸리고, 새로운 하드웨어나 서비스에 대처가 어려움
- 업스타트 `init` 데몬, `systemd` 데몬
  - 이벤트 기반으로 서비스 실행
  - RHEL6 에서 채택된 `upstart`는 RHEL7, SUSE, Ubuntu16.04 에서 `systemd`로 대체됨

#### init 프로세스

- 업스타트는 `/sbin/init`데몬으로 구현
- `ps -e` 또는 `ps ax`으로 확인
- 사용자 환경 준비 및 서비스 프로그램(데몬) 실행 등
- 사용자 프로세스 정리, 셧다운 처리
- `/etc/init`에 있는 `job설정파일`을 읽음
  - 확장자 `.conf`
  - 이벤트가 발생할 때 상응하는 job 을 시작하거나 중지시킴
- `initctl`
  - job 의 상태확인 및 수동시작/중지 명령

---

- 환경설정 파일과 스크립트
  - upstart 는 전통적 방식과 호환되도록 설계
  - `/etc/init/rcS.conf`
    - 부팅시 한번실행, 시스템 초기화, 초기 런레벨 읽고 `/etc/rc.d/rc.sysinit` 실행
    - 호스트 설정, 파일 시스템 마운트 등
    - 서버가 작업을 실행하는데 필요한 모든 작업 수행
  - `/etc/init/rc.conf`
    - 부팅/런레벨이 바뀔때 서비스 실행 또는 중지를 위해 스크립트 실행
    - 주요 작업은 `/etc/rc.d/rc.runlevel`을 실행
  - `/etc/inittab`
    - 초기 런레벨 정의된 파일
  - `/etc/rc.d/rc.local`
    - 런레벨 2,3,5 에서 마지막에 실행
    - 관리자가 원하는 특별한 초기화 작업추가용
- 런레벨
  - 런레벨 0, 6 은 시스템 종료 및 재부팅시 사용하므로 기본값으로 설정 X
  - 런레벨 3 은 네트워킹을 지원하는 CLI 모드용
  - 런레벨이 5 로 부팅되는 경우
    - 배포판의 기본
    - `/etc/rc.d/rc5.d`에 있는 스크립트 파일 실행
    - k 로 시작하면 서비스의 종료, s 로 시작하면 서비스의 시작을 위함
  - `telinit [레벨]`
    - 런레벨 바꾸는 명령
  - `runlevel`
    - 이전, 현재 런레벨 확인
  - `chkconfig`
    - 부팅시 런레벨에 따른 시스템 서비스 활성화 여부 확인 및 변경
  - `service [서비스명] [명령]`
    - 시스템 운영중 `/etc/rc.d/init.d`의 초기화 스크립트를 수동으로 실행 또는 중지시키는 명령
    - 명령은 start, stop, restart, reload, status 중 하나

#### 시스템 종료

- `shutdown [옵션] time [메세지]`
  - `-r`은 재부팅, `-k`는 메시지만 보냄
  - 시간은 `23:10`같은 절대시간, `+10`같은 상대시간, `now`로 즉시

#### 종료절차

- 실제 `init`프로세스를 통해 런레벨을 바꾸어 셧다운 처리
  - 모든 프로세스에게 종료를 알림
  - `TERM`시그널을 통해 프로세스가 스스로 종료하도록 함
  - 종료하지 않았다면 `KILL`시그널로 강제종료
  - 시스템 파일잠금, 파일 시스템 언마운트
  - 버퍼데이터 파일시스템에 기록
  - 시스템 호출을 통해 커널에 요청

#### 데스크톱

- GNOME
  - 레드햇 개열 기본
- KDE
  - 윈도우 환경과 유사함
