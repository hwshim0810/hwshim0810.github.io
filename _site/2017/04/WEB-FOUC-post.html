<!DOCTYPE html>
<html> <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"> <title>FOUC(Flash of Unstyled Content) – Laziness blog</title> <meta name="description" content="FOUC란? 브라우저로 웹문서에 접근했을 때 CSS가 모두 적용되지 못한 상태에서 화면이 표시되어 발생하는 화면 깜빡임, 스타일의 적용 전과 후가 그대로 화면에 노출된 상태로 변경되는 현상 해당 웹문서의 UX를 떨어뜨리는 요인으로 작용 IE11에서도 발생되는 문제, 브라우저를 망라하고 목격되는 현상"> <meta name="keywords" content="Web, CSS, HTML"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="halve.png"> <meta name="twitter:title" content="FOUC(Flash of Unstyled Content)"> <meta name="twitter:description" content="FOUC란? 브라우저로 웹문서에 접근했을 때 CSS가 모두 적용되지 못한 상태에서 화면이 표시되어 발생하는 화면 깜빡임, 스타일의 적용 전과 후가 그대로 화면에 노출된 상태로 변경되는 현상 해당 웹문서의 UX를 떨어뜨리는 요인으로 작용 IE11에서도 발생되는 문제, 브라우저를 망라하고 목격되는 현상"> <!-- Open Graph --> <meta property="og:locale" content="ko_KR"> <meta property="og:type" content="article"> <meta property="og:title" content="FOUC(Flash of Unstyled Content)"> <meta property="og:description" content="FOUC란? 브라우저로 웹문서에 접근했을 때 CSS가 모두 적용되지 못한 상태에서 화면이 표시되어 발생하는 화면 깜빡임, 스타일의 적용 전과 후가 그대로 화면에 노출된 상태로 변경되는 현상 해당 웹문서의 UX를 떨어뜨리는 요인으로 작용 IE11에서도 발생되는 문제, 브라우저를 망라하고 목격되는 현상"> <meta property="og:url" content="http://localhost:4000/2017/04/WEB-FOUC-post"> <meta property="og:site_name" content="Laziness blog"> <meta property="og:image" content="http://localhost:4000/images/halve.png"> <link rel="canonical" href="http://localhost:4000/2017/04/WEB-FOUC-post"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Feed --> <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Laziness blog"> <!-- Favicons --> <link rel="shortcut icon" type="image/png" href="http://localhost:4000/favicon.png"> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico"> <!-- CSS --> <link rel="stylesheet" type="text/css" href="http://localhost:4000/assets/css/main.css"> <!-- Left Block Image for Posts --> <style type="text/css"> #posts.inner-post-page .block-left {background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(http://localhost:4000/images/unsplash-gallery-image-3.jpg) no-repeat;background-size: cover;} </style> <!-- Left Block Images for Home and Pages --> <style type="text/css"> #posts .block-left {background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(http://localhost:4000/images/unsplash-image-10.jpg) no-repeat;background-size: cover, cover;} .block-left {background: linear-gradient(rgba(44,45,51,0.9), rgba(44,45,51,0.9)), url(http://localhost:4000/images/home.png) no-repeat;background-size: cover;} </style> </head> <body id="posts" class="inner-post-page"> <div class="block-left"> <div class="content"> <a href="http://localhost:4000" class="logo"><img src="http://localhost:4000/images/halve.png" alt="Blog-logo"></a> <div class="post-title-section"> <div class="section-line">Posts <em>/</em>
</div> <h1 class="section-title">FOUC(Flash of Unstyled Content) </h1> <ul class="tags"> <li><a href="http://localhost:4000/tags#Web">Web</a></li> <li><a href="http://localhost:4000/tags#CSS">CSS</a></li> <li><a href="http://localhost:4000/tags#HTML">HTML</a></li> </ul> <div class="section-line reverse">
<a href="http://localhost:4000/posts">Back to posts</a> <em>/</em>
</div> </div> </div> </div> <div class="block-right"> <a href="http://localhost:4000/about" title="about" class="about-menu-icon"><i class="fa fa-fw fa-user-circle"></i></a> <a href="http://localhost:4000/tils" title="tils" class="til-menu-icon"><i class="fa fa-fw fa-leanpub"></i></a> <a href="http://localhost:4000/posts" title="posts" class="posts-menu-icon"></a> <a title="projects" class="projects-menu-icon"> <span></span> </a> <div class="inner-post content"> <div class="date-highlight">05 Apr 2017</div> <div class="right-sub"> <span><img class="emoji" title=":mailbox_with_mail:" alt=":mailbox_with_mail:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f4ec.png" height="20" width="20"> </span> <a class="counter" href="http://localhost:4000/2017/04/WEB-FOUC-post#disqus_thread" data-disqus-identifier="/2017/04/WEB-FOUC-post">0 Comment</a> </div> <h2 id="fouc란">FOUC란?</h2> <ul> <li>브라우저로 웹문서에 접근했을 때 CSS가 모두 적용되지 못한 상태에서 화면이 표시되어 발생하는 화면 깜빡임, 스타일의 적용 전과 후가 그대로 화면에 노출된 상태로 변경되는 현상</li> <li>해당 웹문서의 UX를 떨어뜨리는 요인으로 작용</li> <li>IE11에서도 발생되는 문제, 브라우저를 망라하고 목격되는 현상</li> </ul> <h2 id="발생원인-분석">발생원인 분석</h2> <ul> <li>브라우저의 동작방식과 연관이 있다</li> </ul> <ol> <li>브라우저는 Markup에 참조된 모든 부수적인 파일들을 모아 즉시 DOM을 생성</li> <li>가장 빠르게 분석할 수 있는 글의 내용 부분을 화면에 표시</li> <li>화면에 표시된 내용을 선언된 마크업의 순서에 따라 스타일 적용하고 스크립트 실행</li> </ol> <ul> <li>여러개의 CSS파일 참조와 DOM구조 변경으로 인해 발생빈도 증가</li> <li>웹 문서는 <code class="highlighter-rouge">@import</code>로 스타일파일을 가져오고, 다른 CSS를 참조할 수 있다</li> <li>온라인 광고와 동영상과 검색 엔진같은 다른 곳에서 삽입된 콘텐츠는 종종 코드블록 내에서 자신의 스타일 규칙을 구술한다.</li> <li><strong>웹 문서가 모두 불린 후 스크립트를 이용해 DOM구조를 변경한다</strong></li> <li>웹 문서들은 종종 프린터와 무선장치를 위한 CSS규칙으로 브라우저 화면 이외의 다른 <strong>미디어에 대한 스타일 참조</strong>를 포함한다</li> <li><strong>웹 폰트의 경우에도 IE에서는 FOUC를 유발한다</strong></li> </ul> <h2 id="해결-방법">해결 방법</h2> <ul> <li>기본적으로 <code class="highlighter-rouge">&lt;head&gt;</code>요소안에 CSS링크, <code class="highlighter-rouge">@import</code>의 사용을 자제</li> <li>자바스크립트의 선언순서, 위치를 변경함으로써 극복 가능하거나, 매우 짧아질 수 있다.<br> (<code class="highlighter-rouge">&lt;/body&gt;</code>요소 앞에서 <code class="highlighter-rouge">&lt;head&gt;</code>안으로 위치를 변경해보는 방법)</li> <li> <p>FOUC를 유발하는 구역을 숨겼다가 문서의 스타일이나 스크립트가 모두 적용되면 보여준다</p> </li> <li>예시</li> </ul> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;html</span><span class="err"> </span><span class="na">class=</span><span class="s">"no-js"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;style&gt;</span>
            <span class="nc">.js</span> <span class="nf">#fouc</span><span class="err"> </span><span class="p">{</span><span class="nl">display</span><span class="p">:</span><span class="err"> </span><span class="nb">none</span><span class="p">}</span>
        <span class="nt">&lt;/style&gt;</span> 
        <span class="nt">&lt;script&gt;</span>
            <span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">H</span><span class="p">){</span><span class="nx">H</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="nx">H</span><span class="p">.</span><span class="nx">className</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">\b</span><span class="sr">no-js</span><span class="se">\b</span><span class="sr">/</span><span class="p">,</span><span class="s1">'js'</span><span class="p">)})(</span><span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">)</span>
        <span class="nt">&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;div</span><span class="err"> </span><span class="na">id=</span><span class="s">"fouc"</span><span class="nt">&gt;</span> ... <span class="nt">&lt;/div&gt;</span> <span class="c">&lt;!-- /#fouc --&gt;</span> 
        <span class="nt">&lt;script&gt;</span><span class="err"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"fouc"</span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s2">"block"</span><span class="p">;</span><span class="err"> </span><span class="nt">&lt;/script&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div> <p><code class="highlighter-rouge"><span class="nt">&lt;html&gt;</span></code>에 <code class="highlighter-rouge">.no-js</code>를 추가하고 <code class="highlighter-rouge">&lt;head&gt;</code>에 스타일과 자바스크립트를 추가한다.<br> 해당 자바스크립트는 브라우저의 자바스크립트가 활성화 되어 있을 경우,<br> html 태그의 클래스를 <code class="highlighter-rouge">.js</code>로 변경한다. 그리고 숨겨질 구역에 ID 값으로 <code class="highlighter-rouge">id="fouc"</code>를 추가했다.<br> 위와 같이 페이지 전체를 감싸는 영역을 지정하면 빈 페이지를 보여주다가 모든 리소스가 로드되면 페이지를 보여주게 된다.</p> <blockquote> <p>IE에서는 웹폰트들에 대한 FOUC가 잦아 브라우저 스니핑으로 IE들을 골라내고 이에 대한 FOUC 처리를 하거나 숨겨질때 빈페이지를 보여주는 대신 로딩중이라는 표기나 이미지를 넣는 것도 방법이 될 수 있다.</p> </blockquote> <br> <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/2017/04/WEB-FOUC-post" class="btn btn_twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a> <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/2017/04/WEB-FOUC-post" class="btn btn_facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a> <a href="https://plus.google.com/share?url=http://localhost:4000/2017/04/WEB-FOUC-post" class="btn btn_google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a> <nav class="pagination"> <a href="http://localhost:4000/2017/04/WEB-AMP-post" class="pagination_pager" title="AMP(Accelarated Mobile Page) ">previous</a> <a href="http://localhost:4000/2017/04/WEB-REST-post" class="pagination_pager" title="REST API ">next</a> </nav> <hr class="disqus-seperator"> <div id="disqus_thread"></div> <script> /** * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS. * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/ /**/ var disqus_config = function () { this.page.url = 'http://localhost:4000/2017/04/WEB-FOUC-post'; this.page.identifier = '/2017/04/WEB-FOUC-post'; }; (function() { var d = document, s = d.createElement('script'); s.src = 'https://myblog-4mp0ry3tqm.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <script id="dsq-count-scr" src="https://myblog-4mp0ry3tqm.disqus.com/count.js" async></script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript> </div> </div> <!-- JS --> <script src="http://localhost:4000/assets/js/main.min.js"></script> <div class="overlay"> <ul class="projects-menu"> <li style="background:url(https://github.com/hwshim0810/restaurance-Chrome-Extension/raw/master/img/page_main_pic.png) center center no-repeat;"> <a href="https://github.com/hwshim0810/restaurance-Chrome-Extension" target="_blank" rel="nofollow external"> <span> Be The Restaurance </span> </a> </li> </ul> </div> </body> </html>
