<!DOCTYPE html>
<html> <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"> <title>REST API – Laziness blog</title> <meta name="description" content="REST(Representational State Transfer)란?"> <meta name="keywords" content="Web, REST API"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="halve.png"> <meta name="twitter:title" content="REST API"> <meta name="twitter:description" content="REST(Representational State Transfer)란?"> <!-- Open Graph --> <meta property="og:locale" content="ko_KR"> <meta property="og:type" content="article"> <meta property="og:title" content="REST API"> <meta property="og:description" content="REST(Representational State Transfer)란?"> <meta property="og:url" content="http://localhost:4000/2017/04/WEB-REST-post"> <meta property="og:site_name" content="Laziness blog"> <meta property="og:image" content="http://localhost:4000/images/halve.png"> <link rel="canonical" href="http://localhost:4000/2017/04/WEB-REST-post"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Feed --> <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Laziness blog"> <!-- Favicons --> <link rel="shortcut icon" type="image/png" href="http://localhost:4000/favicon.png"> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico"> <!-- CSS --> <link rel="stylesheet" type="text/css" href="http://localhost:4000/assets/css/main.css"> <!-- Left Block Image for Posts --> <style type="text/css"> #posts.inner-post-page .block-left {background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(http://localhost:4000/images/unsplash-gallery-image-3.jpg) no-repeat;background-size: cover;} </style> <!-- Left Block Images for Home and Pages --> <style type="text/css"> #posts .block-left {background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(http://localhost:4000/images/unsplash-image-10.jpg) no-repeat;background-size: cover, cover;} .block-left {background: linear-gradient(rgba(44,45,51,0.9), rgba(44,45,51,0.9)), url(http://localhost:4000/images/home.png) no-repeat;background-size: cover;} </style> </head> <body id="posts" class="inner-post-page"> <div class="block-left"> <div class="content"> <a href="http://localhost:4000" class="logo"><img src="http://localhost:4000/images/halve.png" alt="Blog-logo"></a> <div class="post-title-section"> <div class="section-line">Posts <em>/</em>
</div> <h1 class="section-title">REST API </h1> <ul class="tags"> <li><a href="http://localhost:4000/tags#Web">Web</a></li> <li><a href="http://localhost:4000/tags#REST%20API">REST API</a></li> </ul> <div class="section-line reverse">
<a href="http://localhost:4000/posts">Back to posts</a> <em>/</em>
</div> </div> </div> </div> <div class="block-right"> <a href="http://localhost:4000/about" title="about" class="about-menu-icon"><i class="fa fa-fw fa-user-circle"></i></a> <a href="http://localhost:4000/tils" title="tils" class="til-menu-icon"><i class="fa fa-fw fa-leanpub"></i></a> <a href="http://localhost:4000/posts" title="posts" class="posts-menu-icon"></a> <a title="projects" class="projects-menu-icon"> <span></span> </a> <div class="inner-post content"> <div class="date-highlight">06 Apr 2017</div> <div class="right-sub">Updated at 12 Apr 2017</div> <div class="right-sub"> <span><img class="emoji" title=":mailbox_with_mail:" alt=":mailbox_with_mail:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f4ec.png" height="20" width="20"> </span> <a class="counter" href="http://localhost:4000/2017/04/WEB-REST-post#disqus_thread" data-disqus-identifier="/2017/04/WEB-REST-post">0 Comment</a> </div> <h1 id="restrepresentational-state-transfer란">REST(Representational State Transfer)란?</h1> <h2 id="rest-의-구성">REST 의 구성</h2> <ul> <li><strong>자원(Resource) : URI</strong></li> <li><strong>행위(Verb) : HTTP Method</strong></li> <li><strong>표현(Representations)</strong></li> </ul> <h2 id="특징">특징</h2> <ol> <li>Uniform(Uniform Interface) <ul> <li>URI로 지정한 리소스에 대한 조작을 통일되고 한정적인 인터페이스로 수행하는 아키텍쳐</li> </ul> </li> <li>Stateless(무상태성) <ul> <li>REST는 무상태성 성격 : 작업을 위한 상태정보를 따로 저장하고 관리하지 않는다</li> <li>세션/쿠키정보를 별도로 저장/관리하지 않기 때문에 API서버는 들어오는 요청을 단순처리 따라서 서비스의 자유도가 높아지고 불필요한 정보관리가 없어 구현이 단순해짐</li> </ul> </li> <li>Cacheable(캐시가능) <ul> <li>REST는 HTTP라는 기존 웹표준을 그대로 사용하기 떄문에 웹의 기존 인프라 활용가능</li> <li>HTTP의 캐싱기능 : Last-Modified 태그나 E-Tag를 이용하여 캐싱구현</li> </ul> </li> <li>Self-descriptiveness(자체표현구조) <ul> <li>REST API 메세지만 보고도 쉽게 이해 할 수 있는 자체표현구조</li> </ul> </li> <li>Client-Server구조 <ul> <li>REST 서버는 API제공</li> <li>클라이언트는 사용자 인증이나 컨텍스트(세션/로그인정보)등을 직접 관리하는 구조</li> <li>구분이 명확, 의존성을 줄임</li> </ul> </li> <li>계층형 구조 <ul> <li>서버는 다층 계층으로 구성될 수 있으며 보안, 로드벨런싱, 암호화계층을 추가, 구조상의 유연성</li> <li>PROXY, 게이트웨이 같은 네트워크 기반의 중간매체 사용가능</li> </ul> </li> </ol> <h2 id="rest-api-디자인">REST API 디자인</h2> <h3 id="설계-시-가장-중요한-항목">설계 시 가장 중요한 항목</h3> <ol> <li>URI는 정보의 자원을 표현해야 한다. <ul> <li>리소스명은 동사보다는 명사를 사용</li> <li>
<em>틀린 예시)</em> <code class="highlighter-rouge">GET: /members/delete/1</code>
</li> <li>Delete같은 행위에 대한 표현이 들어가는 안된다.</li> </ul> </li> <li>자원에 대한 행위는 <strong>HTTP Method(GET, POST, PUT, DELETE)</strong>로 표현한다. <ul> <li>행위를 표현하는 예시) <code class="highlighter-rouge">DELETE: /members/1</code>
</li> <li>정보를 가져올 때는 GET, 추가시 POST<br> <code class="highlighter-rouge">GET ) /members/show/1</code> <strong>( X )</strong><br> <code class="highlighter-rouge">GET ) /members/1</code> <strong>( O )</strong>
</li> </ul> </li> </ol> <ul> <li>
<code class="highlighter-rouge">GET ) /members/insert/2</code> <strong>( X )</strong> : GET은 리소스 생성에 맞지 않는다</li> <li>
<code class="highlighter-rouge">POST ) /members/2</code> <strong>( O )</strong>
</li> </ul> <h3 id="http-method의-알맞은-역할">HTTP Method의 알맞은 역할</h3> <table> <thead> <tr> <th style="text-align: center">Method</th> <th style="text-align: center">역할</th> </tr> </thead> <tbody> <tr> <td style="text-align: center"><strong>POST</strong></td> <td style="text-align: center">POST를 통해 해당 URI를 요청하면 리소스를 생성</td> </tr> <tr> <td style="text-align: center"><strong>GET</strong></td> <td style="text-align: center">GET을 통해 해당 리소스 조회.</td> </tr> <tr> <td style="text-align: center"> </td> <td style="text-align: center">리소스를 조회하고 해당 문서에 대한 자세한 정보를 가져옴</td> </tr> <tr> <td style="text-align: center"><strong>PUT</strong></td> <td style="text-align: center">PUT을 통해 해당 리소스를 수정함</td> </tr> <tr> <td style="text-align: center"><strong>DELETE</strong></td> <td style="text-align: center">DELETE를 통해 리소스를 삭제</td> </tr> </tbody> </table> <ul> <li>PUT을 대신 할 Method로 PATCH가 있다.</li> <li>PUT은 해당 자원의 전체를 교체한다는 의미, PATCH는 일부를 변경한다는 의미</li> </ul> <h3 id="uri-설계-시-주의할-점">URI 설계 시 주의할 점</h3> <ol> <li>슬래시 구분자( / ) 는 계층 관계를 나타냄 <ul> <li>Ex) <code class="highlighter-rouge">http://restapi.example.com/houses/apart</code>
</li> </ul> </li> <li>URI 마지막 문자로 슬래시( / )를 포함하지 않는다 <ul> <li>URI에 포함되는 모든 글자는 리소스의 유일한 식별자로 사용되어야 함</li> <li>URI가 다르다는 것은 리소스가 다르다는 것, 리소스가 다르다면 URI가 달라져야 함</li> <li>슬래시를 사용해서 혼동을 주지 않도록 한다</li> </ul> </li> <li>하이픈( - )은 가독성을 높이는데 사용 <ul> <li>URI가 불가피하게 길어지는 경우 하이픈을 사용</li> </ul> </li> <li>밑줄( _ )은 URI에 사용하지 않는다 <ul> <li>글꼴에 따라 다르긴 하지만 밑줄은 보기 어렵거나 문자를 가릴 수 있음</li> <li>하이픈을 사용할 것</li> </ul> </li> <li>URI경로에는 소문자가 적합하다 <ul> <li>대소문자에 따라 다른 리소스로 인식하게 됨</li> </ul> </li> <li>파일 확장자는 URI에 포함시키지 않는다 <ul> <li>Ex) <code class="highlighter-rouge">http://restapi.example.com/members/soccer/123/photo.jpg</code> <strong>( X )</strong>
</li> <li>REST API에서는 메시지 바디 내용의 포맷을 나타내기 위한 파일 확장자를 URI에 포함시키지 않는다</li> <li>Accept header를 사용할 것</li> <li>
<code class="highlighter-rouge">GET: /members/soccer/123/photo</code><br> <code class="highlighter-rouge">HTTP/1.1 Host: restapi.example.com</code><br> <code class="highlighter-rouge">Accept: image/jpg</code>
</li> </ul> </li> </ol> <ul> <li>Ex) <code class="highlighter-rouge">Accept: text/csv, text/html;q=0.5,application/xml;q=0.6</code>
</li> <li>0~1범위로 우선순위설정하여 응답가능</li> <li>응답할 수 있는 media type이 Accept에 명시되지 않았다면 406응답과 Body에는 응답 가능한 media type을 명시하여 응답해야 함</li> </ul> <h3 id="리소스-간의-관계를-표현하는-방법">리소스 간의 관계를 표현하는 방법</h3> <ul> <li>REST리소스 간의 연관관계 표현</li> <li>Ex) <code class="highlighter-rouge">GET: /users/{userid}/devices</code><br> (일반적으로 소유 ‘has’의 관계를 표현할 때)</li> </ul> <h3 id="자원을-표현하는-collection과-document">자원을 표현하는 Collection과 Document</h3> <ul> <li>Document는 문서 / 한 객체로 취급</li> <li>Collection은 문서들의 집합 / 객체들의 집합으로 취급</li> <li>Ex) <code class="highlighter-rouge">http://restapi.example.com/sports/soccer/players/10</code>
</li> <li>Sport, Players 컬렉션과 Soccer, 10번을 의미하는 Document로 이루어진 URI</li> <li>Collection은 복수로 사용</li> </ul> <h3 id="반응형-웹에서의-rest플랫폼-중립적-uri">반응형 웹에서의 REST(플랫폼 중립적 URI)</h3> <ul> <li>Ex) <code class="highlighter-rouge">http://m.restapi.com/123</code> 또는 <code class="highlighter-rouge">http://www.restapi.com/m/123</code> 처럼 사용 금지</li> <li>기기 간 이동시 최적화 사이트 이동은 User-Agent header를 이용할 것</li> <li>다국어 지원도 Accept-Language를 통해서 할것</li> </ul> <h3 id="http-응답-상태-코드">HTTP 응답 상태 코드</h3> <ul> <li>정확한 응답의 상태코드만으로도 많은 정보를 전달할 수가 있다</li> </ul> <table> <thead> <tr> <th style="text-align: center">Code</th> <th style="text-align: center">내용</th> </tr> </thead> <tbody> <tr> <td style="text-align: center"><strong>200</strong></td> <td style="text-align: center">클라이언트의 요청을 정상적으로 수행</td> </tr> <tr> <td style="text-align: center"><strong>201</strong></td> <td style="text-align: center">클라이언트가 리소스 생성을 요청, 해당 리소스가 성공적으로 생성 됨(POST를 통한 생성시)</td> </tr> <tr> <td style="text-align: center"><strong>202</strong></td> <td style="text-align: center">클라이언트의 요청이 비동기적으로 처리될 때</td> </tr> <tr> <td style="text-align: center"> </td> <td style="text-align: center">(응답바디에 처리되기까지의 시간 등의 정보)</td> </tr> <tr> <td style="text-align: center"><strong>204</strong></td> <td style="text-align: center">요청을 정상적으로 수행. 200과 다른점은 응답바디가 없을 때</td> </tr> <tr> <td style="text-align: center"> </td> <td style="text-align: center">(DELETE와 같은 요청 처리 후)</td> </tr> </tbody> <tbody> <tr> <td style="text-align: center"><strong>400</strong></td> <td style="text-align: center">클라이언트의 요청이 부적절 할 경우</td> </tr> <tr> <td style="text-align: center"> </td> <td style="text-align: center">(클라이언트에서 보낸 것들이 Validation을 통과하지 못했을 때. 응답바디에 실패이유 넣어줘야함)</td> </tr> <tr> <td style="text-align: center"><strong>401</strong></td> <td style="text-align: center">클라이언트가 인증되지 않은 상태에서 보호된 리소스를 요청했을 때</td> </tr> <tr> <td style="text-align: center"> </td> <td style="text-align: center">(로그인 하지 않은 유저가 로그인 했을때만 요청가능한 리소스를 요청했을 때)</td> </tr> <tr> <td style="text-align: center"><strong>403</strong></td> <td style="text-align: center">유저 인증상태와 관계없이 응답하고 싶지 않은 리소스를 클라이언트가 요청했을 때</td> </tr> <tr> <td style="text-align: center"> </td> <td style="text-align: center">(403 보다는 400이나 404를 사용할 것. 403자체가 리소스가 존재한다는 뜻 이기 때문에)</td> </tr> <tr> <td style="text-align: center"><strong>405</strong></td> <td style="text-align: center">클라이언트가 요청한 리소스에서는 사용 불가능한 Method를 이용했을 경우</td> </tr> <tr> <td style="text-align: center"> </td> <td style="text-align: center">(예: 읽기전용 리소스에 DELETE Method를 사용했을 때)</td> </tr> <tr> <td style="text-align: center"><strong>408</strong></td> <td style="text-align: center">요청 시간 초과</td> </tr> <tr> <td style="text-align: center"><strong>409</strong></td> <td style="text-align: center">요청 처리 중 충돌발생(예 : 회원가입을 했는데 이미 사용하는 아이디)</td> </tr> </tbody> <tbody> <tr> <td style="text-align: center"><strong>301</strong></td> <td style="text-align: center">클라이언트가 요청한 리소스에 대한 URI가 변경되었을 때</td> </tr> <tr> <td style="text-align: center"> </td> <td style="text-align: center">(응답 시 Location header에 변경된 URI를 적어 줘야 함)</td> </tr> <tr> <td style="text-align: center"><strong>302</strong></td> <td style="text-align: center">임시로 주소가 바뀌었을 경우</td> </tr> <tr> <td style="text-align: center"><strong>304</strong></td> <td style="text-align: center">이전에 방문했을 때의 요청과 다르지 않을 때(캐시페이지 사용)</td> </tr> <tr> <td style="text-align: center"><strong>500</strong></td> <td style="text-align: center">서버에 문제가 있을 경우</td> </tr> </tbody> </table> <br> <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/2017/04/WEB-REST-post" class="btn btn_twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a> <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/2017/04/WEB-REST-post" class="btn btn_facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a> <a href="https://plus.google.com/share?url=http://localhost:4000/2017/04/WEB-REST-post" class="btn btn_google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a> <nav class="pagination"> <a href="http://localhost:4000/2017/04/WEB-FOUC-post" class="pagination_pager" title="FOUC(Flash of Unstyled Content) ">previous</a> <a href="http://localhost:4000/2017/04/Func-Difference-post" class="pagination_pager" title="Functional&amp;Imperative Programming ">next</a> </nav> <hr class="disqus-seperator"> <div id="disqus_thread"></div> <script> /** * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS. * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/ /**/ var disqus_config = function () { this.page.url = 'http://localhost:4000/2017/04/WEB-REST-post'; this.page.identifier = '/2017/04/WEB-REST-post'; }; (function() { var d = document, s = d.createElement('script'); s.src = 'https://myblog-4mp0ry3tqm.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <script id="dsq-count-scr" src="https://myblog-4mp0ry3tqm.disqus.com/count.js" async></script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript> </div> </div> <!-- JS --> <script src="http://localhost:4000/assets/js/main.min.js"></script> <div class="overlay"> <ul class="projects-menu"> <li style="background:url(https://github.com/hwshim0810/restaurance-Chrome-Extension/raw/master/img/page_main_pic.png) center center no-repeat;"> <a href="https://github.com/hwshim0810/restaurance-Chrome-Extension" target="_blank" rel="nofollow external"> <span> Be The Restaurance </span> </a> </li> </ul> </div> </body> </html>
